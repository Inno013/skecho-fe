<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tour</title>
  <link
    href="../../../assets/bootstrap/css/bootstrap.min.css"
    rel="stylesheet"
    crossorigin="anonymous"
  />
  <link
    href="../../../node_modules/bootstrap-icons/font/bootstrap-icons.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="./../../../assets/css/main.css" />

  <style>
    body {
  overflow: hidden;
}

.main-sidebar {
  background-color: #3e92e7; /* Ganti warna dengan yang diinginkan */
  width: 75px;
}
/* Menentukan warna yang ingin digunakan saat ikon dihover */
.nav-link:hover svg {
    fill: rgb(47, 9, 199); /* Ganti warna dengan yang diinginkan */
}

.nav-link {
  position: relative;
}

.nav-link::after {
  content: attr(data-bs-original-title);
  position: absolute;
  top: 50%;
  left: 105%; /* Mengatur jarak teks dari ikon */
  transform: translate(-50%, -50%);
  padding: 0.25rem 0.5rem; /* Penyesuaian panjang teks */
  border-radius: 0.25rem;
  font-size: 0.8rem;
  background-color: rgba(0, 0, 0, 0.8); /* Menyesuaikan warna latar belakang teks */
  color: #fff;
  opacity: 0; /* Mulai dengan teks tersembunyi */
  pointer-events: none; /* Hindari interaksi dengan teks */
  transition: opacity 0.3s ease; /* Efek transisi */
  white-space: nowrap; /* Mencegah pemisahan kata */
  z-index: 999; /* Pastikan teks selalu muncul di atas ikon */
}

.nav-link:hover::after {
  opacity: 1; /* Tampilkan teks saat kursor diarahkan */
}

</style>

</head>
<body>
   <!-- Definisi Ikon SVG -->
<svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <!-- Product icon -->
  <symbol id="product-icon" viewBox="0 0 16 16">
    <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434zM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567zM7.5 9.933l-2.75 1.571v3.134l2.75-1.571zm1 3.134 2.75 1.571v-3.134L8.5 9.933zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567zm2.242-2.433V3.504L8.5 5.076V8.21zM7.5 8.21V5.076L4.75 3.504v3.134zM5.258 2.643 8 4.21l2.742-1.567L8 1.076zM15 9.933l-2.75 1.571v3.134L15 13.067zM3.75 14.638v-3.134L1 9.933v3.134z"/> 
   </symbol>

  <!-- Tour icon -->
  <symbol id="tour-icon" viewBox="0 0 16 16">
    <path d="M16 7a1 1 0 0 1-1 1v3.5c0 .818-.393 1.544-1 2v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5V14H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a2.5 2.5 0 0 1-1-2V8a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1V2.64C1 1.452 1.845.408 3.064.268A44 44 0 0 1 8 0c2.1 0 3.792.136 4.936.268C14.155.408 15 1.452 15 2.64V4a1 1 0 0 1 1 1zM3.552 3.22A43 43 0 0 1 8 3c1.837 0 3.353.107 4.448.22a.5.5 0 0 0 .104-.994A44 44 0 0 0 8 2c-1.876 0-3.426.109-4.552.226a.5.5 0 1 0 .104.994M8 4c-1.876 0-3.426.109-4.552.226A.5.5 0 0 0 3 4.723v3.554a.5.5 0 0 0 .448.497C4.574 8.891 6.124 9 8 9s3.426-.109 4.552-.226A.5.5 0 0 0 13 8.277V4.723a.5.5 0 0 0-.448-.497A44 44 0 0 0 8 4m-3 7a1 1 0 1 0-2 0 1 1 0 0 0 2 0m8 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m-7 0a1 1 0 0 0 1 1h2a1 1 0 1 0 0-2H7a1 1 0 0 0-1 1"/>

  </symbol>

  <!-- Supplier icon -->
  <symbol id="supplier-icon" viewBox="0 0 16 16">
    <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
  </symbol>

  <!-- Cashier Administrator icon -->
  <symbol id="cashier-icon" viewBox="0 0 16 16">
    <path d="M1.5 0A1.5 1.5 0 0 0 0 1.5v7A1.5 1.5 0 0 0 1.5 10H6v1H1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5v-1h4.5A1.5 1.5 0 0 0 16 8.5v-7A1.5 1.5 0 0 0 14.5 0zm0 1h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5M12 12.5a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0m2 0a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0M1.5 12h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1M1 14.25a.25.25 0 0 1 .25-.25h5.5a.25.25 0 1 1 0 .5h-5.5a.25.25 0 0 1-.25-.25"/>
  </symbol>

  <!-- Recap icon -->
  <symbol id="recap-icon" viewBox="0 0 16 16">
    <path d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"/>  </symbol>
</svg>

  <div class="container-fluid">
    <div class="row">
      <div class="d-flex flex-nowrap main-sidebar col-md-1 col-lg-1 p-0">
        <div
          class="d-flex flex-column flex-shrink-0 bg-body-tertiary"
          style="width: 4.5rem"
        >
       
        <ul class="nav  flex-column mb-auto text-center">
            <li class="nav-item">
               <!-- Product -->
            <a
            class="nav-link active py-3 border-bottom rounded-0"
            aria-current="page"
            data-bs-toggle="tooltip"
            data-bs-placement="right"
            aria-label="Product"
            onclick="redirect('/views/admin/products/Produk.html')"
            data-bs-original-title="Product"
          >
            <svg
              class="bi pe-none"
              width="24"
              height="24"
              role="img"
              aria-label="Product"
            >
              <use xlink:href="#product-icon"></use>
            </svg>
          </a>

          <!-- Tour -->
          <a
            class="nav-link py-3 border-bottom rounded-0"
            data-bs-toggle="tooltip"
            data-bs-placement="right"
            onclick="redirect('/views/admin/tour/tour.html')"
            data-bs-original-title="Tour"
          >
            <svg
              class="bi pe-none"
              width="24"
              height="24"
              role="img"
              aria-label="Tour"
            >
              <use xlink:href="#tour-icon"></use>
            </svg>
          </a>

          <!-- Supplier -->
          <a
            class="nav-link py-3 border-bottom rounded-0"
            data-bs-toggle="tooltip"
            data-bs-placement="right"
            onclick="redirect('/views/admin/supplier/supplier.html')"
            aria-label="Supplier"
            data-bs-original-title="Supplier"
          >
            <svg
              class="bi pe-none"
              width="24"
              height="24"
              role="img"
              aria-label="Supplier"
            >
              <use xlink:href="#supplier-icon"></use>
            </svg>
          </a>

          <!-- Cashier Administrator -->
          <a
            class="nav-link py-3 border-bottom rounded-0"
            data-bs-toggle="tooltip"
            data-bs-placement="right"
            onclick="redirect('/views/admin/kasir/adminkasir.html')"
            aria-label="Cashier Administrator"
            data-bs-original-title="Cashier Administrator"
          >
            <svg
              class="bi pe-none"
              width="24"
              height="24"
              role="img"
              aria-label="Cashier Administrator"
            >
              <use xlink:href="#cashier-icon"></use>
            </svg>
          </a>

          <!-- Recap -->
          <a
            class="nav-link py-3 border-bottom rounded-0"
            data-bs-toggle="tooltip"
            data-bs-placement="right"
            onclick="redirect('/views/admin/recap/recap.html')"
            aria-label="Recap"
            data-bs-original-title="Recap"
          >
            <svg
              class="bi pe-none"
              width="24"
              height="24"
              role="img"
              aria-label="Recap"
            >
              <use xlink:href="#recap-icon"></use>
            </svg>
          </a>

         </li>
       </ul>
          <div class="dropdown border-top">
            <a
              href="#"
              class="d-flex align-items-center justify-content-center p-3 link-body-emphasis text-decoration-none dropdown-toggle"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <img
                src="../../../assets/img/fotologin.jpg"
                alt="mdo"
                width="24"
                height="24"
                class="rounded-circle"
              />
            </a>
            <ul class="dropdown-menu text-small shadow">
              <li><a class="dropdown-item" onclick="redirect('/views/auth/login.html')">Sign out</a></li>
            </ul>
          </div>
          </div>

          <div class="b-example-divider b-example-vr"></div>
        </div>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-10">
          <div
            class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
          >
            <h1 class="h2">Tour</h1>
            <br />
          </div>
          <div class="row justify-content-between align-items-center">
            <div class="col-auto">
              <a
                href=""
                class="btn btn-primary"
                type="button"
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#createModal"
              >
                <i class="bi bi-person-plus-fill me-2"></i>
                Add tour
              </a>
            </div>
            <div class="col-auto">
              <div class="input-group mb-3">
                <input
                  type="search"
                  onchange="handleSearch(this)"
                  class="form-control"
                  placeholder="Search..."
                />
                <span class="input-group-text" id="basic-addon2">
                  <i class="bi bi-search"></i>
                </span>
              </div>
            </div>
          </div>

        <div class="table-container">
          <div id="general-list-messages"></div>

          <div class="scrollable overflow-auto">
    <table id="data-table" class="table table-striped table-bordered table-sm " id="data-table cellspacing="0"
  width="100%" id="data-table">
        
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Address</th>
      <th scope="col">Phone Number</th>
      <th scope="col">Created At</th>
      <th scope="col">Invoice Tour</th> <!-- Tambah kolom ini -->
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr class="d-none" id="sample-row">
      <td class="name"></td>
      <td class="address"></td>
      <td class="phone"></td>
      <td class="createdAt"></td>
      <td class="invoiceTour">
        <!-- Tambah tombol Invoice Tour di sini -->
        <button type="button" class="btn btn-info ivoiceStatus" onclick="handleRegisterInvoice(this)">
          <i class="bi bi-file-earmark-text"></i> Register Invoice
        </button>
      </td>
      <td class="action">
        <button
          type="button"
          class="btn btn-success"
          onclick="handleEditView(this)"
          data-edit-id=""
          data-bs-toggle="modal"
          data-bs-target="#editModal"
        >
          <i class="bi bi-pencil-square"></i>
        </button>
        <button
          type="button"
          onclick="handleDelete(this)"
          class="btn btn-danger"
          data-delete-id=""
        >
          <i class="bi bi-trash3-fill"></i>
        </button>
      </td>
    </tr>
  </tbody>
          </table>
          </div>
        </div>

          <nav aria-label="Page navigation example" class="mx-auto mt-4">
            <ul class="pagination justify-content-center">
              <li class="page-item" onclick="handlePrevPage(this)">
                <a class="page-link" href="#">Previous</a>
              </li>

              <li class="page-item" onclick="handleNextPage(this)">
                <a class="page-link" href="#">Next</a>
              </li>
            </ul>
          </nav>
          <!-- Content  -->
        </main>

        <div class="col-md-1 ms-sm-auto col-lg-1 px-md-1"></div>
      </div>
    </div>

    <!-- Modal Create -->
    <!-- Button trigger modal -->

    <!-- Modal -->
    <div
      class="modal fade"
      id="createModal"
      tabindex="-1"
      aria-labelledby="createModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <form id="formCreatetour">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="createModalLabel">
                Create tour
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div id="modal-create-message"></div>

              <div class="mb-3">
                <label for="createNameText" class="form-label">Name</label>
                <input
                  type="text"
                  name="name"
                  class="form-control"
                  id="createNameText"
                  placeholder="Enter Name"
                />
              </div>

              <div class="mb-3">
                <label for="createPhoneText" class="form-label"
                  >Phone Number</label
                >
                <input
                  type="tel"
                  name="phone"
                  class="form-control"
                  id="createPhoneText"
                  placeholder="Enter Phone Number"
                />
              </div>

              <div class="mb-3">
                <label for="createAddressText" class="form-label"
                  >Address</label
                >
                <textarea
                  class="form-control"
                  name="address"
                  id="createAddressText"
                  rows="3"
                ></textarea>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button type="submit" class="btn btn-primary">Create</button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <!-- Modal Create End -->

    <!-- Modal Update -->
    <div
      class="modal fade"
      id="editModal"
      tabindex="-1"
      aria-labelledby="createModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <form id="formEdittour">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="createModalLabel">
                Edit tour
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div id="modal-edit-message"></div>

              <!-- Backup edit id -->
              <input type="hidden" name="id" />

              <div class="mb-3">
                <label for="createNameText" class="form-label">Name</label>
                <input
                  type="text"
                  name="name"
                  class="form-control"
                  placeholder="Enter Name"
                />
              </div>

              <div class="mb-3">
                <label for="createPhoneText" class="form-label"
                  >Phone Number</label
                >
                <input
                  type="tel"
                  name="phone"
                  class="form-control"
                  placeholder="Enter Phone Number"
                />
              </div>

              <div class="mb-3">
                <label for="createAddressText" class="form-label"
                  >Address</label
                >
                <textarea
                  class="form-control"
                  name="address"
                  rows="3"
                ></textarea>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button type="submit" class="btn btn-success">Edit</button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <!-- End Modal Update -->
   <!-- Modal Invoice -->
<div class="modal fade" id="invoiceModal" tabindex="-1" aria-labelledby="invoiceModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form id="formInvoice">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="invoiceModalLabel">
            Invoice Tour
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div id="modal-invoice-message"></div>

          <div class="mb-3">
            <label for="tourId" class="form-label">Tour ID</label>
            <input
              type="text"
              name="tourId"
              class="form-control"
              id="tourId"
              placeholder="Enter Tour ID" disabled
            />
          </div>

          <div class="mb-3">
            <label for="unitBus" class="form-label">Unit Bus</label>
            <input
              type="text"
              name="unitBus"
              class="form-control"
              id="unitBus"
              placeholder="Enter Unit Bus"
            />
          </div>

          <div class="mb-3">
            <label for="jumlahIndividu" class="form-label">Jumlah Individu</label>
            <input
              type="number"
              name="jumlahIndividu"
              class="form-control"
              id="jumlahIndividu"
              placeholder="Enter Jumlah Individu"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <button type="submit" data-bs-dismiss="modal" class="btn btn-primary">Register </button>
        </div>
      </div>
    </form>
  </div>
</div>
<!-- End Modal Invoice -->

    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Are you sure you want to delete this item?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="confirmDelete">Delete</button>
            </div>
          </div>
        </div>
      </div>
    <!-- List of Templates -->
    <!-- End List of Templates -->

    <script
      src="../../../assets/bootstrap/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>

    <script src="../../../assets/js/tour.js"></script>
    <script src="../../../assets/js/main.js"></script>

    <div id="loom-companion-mv3" ext-id="liecbddmkiiihnedobmlmillhodjkdmb">
      <section id="shadow-host-companion"></section>
    </div>
    <script src="../../../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  </body>
</html>
